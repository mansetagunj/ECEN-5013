CC=gcc


ifeq ($(BUILD),RELEASE)
output_type = release
output_dir= ../OUTPUT/release/
else
output_type = _debug
output_dir= ../OUTPUT/debug/

basename=pthreadHW
ext=.out
filename=$(output_dir)$(basename)$(output_type)$(ext)

CFLAGS= -g3 -O0
LDFLAGS= -lpthread
INCLUDES= -I ../include

SRCS:= main.c time.c letterParser.c doublyLinkedList.c threadManager.c my_signals.c

OBJS=$(SRCS:.c=.o)

%.o: %.c
	@echo "Building $@ from $<"	
	$(CC) $(CFLAGS) $(INCLUDES) -c $< -o $@
	@echo "Build Finish\n"
	
.PHONY:build
build: $(OBJS)
	@echo "Generating $(filename)"	
	$(CC) $(CFLAGS) $(INCLUDES) $^ -o $(filename) $(LDFLAGS) 
	@echo "Generated $@"

.PHONY:clean
clean:
	rm -rf *.o *$(ext)
	@echo "Clean Complete"	

