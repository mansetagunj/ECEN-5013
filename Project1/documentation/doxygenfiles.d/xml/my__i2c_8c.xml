<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.11">
  <compounddef id="my__i2c_8c" kind="file" language="C++">
    <compoundname>my_i2c.c</compoundname>
    <includes local="no">errno.h</includes>
    <includes local="no">string.h</includes>
    <includes refid="my__i2c_8h" local="yes">my_i2c.h</includes>
    <incdepgraph>
      <node id="850">
        <label>my_i2c.h</label>
        <link refid="my__i2c_8h"/>
        <childnode refid="851" relation="include">
        </childnode>
        <childnode refid="852" relation="include">
        </childnode>
      </node>
      <node id="852">
        <label>mraa/i2c.h</label>
      </node>
      <node id="848">
        <label>errno.h</label>
      </node>
      <node id="851">
        <label>pthread.h</label>
      </node>
      <node id="849">
        <label>string.h</label>
      </node>
      <node id="847">
        <label>/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c</label>
        <link refid="my_i2c.c"/>
        <childnode refid="848" relation="include">
        </childnode>
        <childnode refid="849" relation="include">
        </childnode>
        <childnode refid="850" relation="include">
        </childnode>
      </node>
    </incdepgraph>
      <sectiondef kind="var">
      <memberdef kind="variable" id="my__i2c_8c_1a2825cebc22aeea429e4e35e9270cf564" prot="public" static="yes" mutable="no">
        <type><ref refid="my__i2c_8h_1ab57e25e9caf06380c1d3587fa9866c1e" kindref="member">I2C_MASTER_HANDLE_T</ref> *</type>
        <definition>I2C_MASTER_HANDLE_T* internal_master_handle</definition>
        <argsstring></argsstring>
        <name>internal_master_handle</name>
        <initializer>= NULL</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="14" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="14" bodyend="-1"/>
      </memberdef>
      <memberdef kind="variable" id="my__i2c_8c_1ac8f0dc247d2b089ef9db550be90939a5" prot="public" static="yes" mutable="no">
        <type>pthread_mutex_t</type>
        <definition>pthread_mutex_t init_destroy_lock</definition>
        <argsstring></argsstring>
        <name>init_destroy_lock</name>
        <initializer>= PTHREAD_MUTEX_INITIALIZER</initializer>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="15" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="15" bodyend="-1"/>
      </memberdef>
      </sectiondef>
      <sectiondef kind="func">
      <memberdef kind="function" id="my__i2c_8c_1a24206855ca77b181de1cfbe8e9e5051a" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void printErrorCode</definition>
        <argsstring>(int errorCode)</argsstring>
        <name>printErrorCode</name>
        <param>
          <type>int</type>
          <declname>errorCode</declname>
        </param>
        <briefdescription>
<para>Prints the error code string to stdout. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>errorCode</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="17" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="17" bodyend="23"/>
        <referencedby refid="light__sensor__task_8c_1abb5f74ca3376b1b610b7dac47ecae8d8" compoundref="light__sensor__task_8c" startline="95" endline="108">light_task_queue_init</referencedby>
        <referencedby refid="temperature__sensor__task_8c_1ad16d2f35c6d97e33cfe57e3ab2497064" compoundref="temperature__sensor__task_8c" startline="153" endline="163">temperature_task_I2Cinit</referencedby>
        <referencedby refid="temperature__sensor__task_8c_1a7b3917c753224bc64f378ca8e61cc941" compoundref="temperature__sensor__task_8c" startline="171" endline="182">temperature_task_I2Cdeinit</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1acea2b6a0875bf63a179959a46b3cdf7d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_Init</definition>
        <argsstring>(I2C_MASTER_HANDLE_T *handle)</argsstring>
        <name>I2Cmaster_Init</name>
        <param>
          <type><ref refid="my__i2c_8h_1ab57e25e9caf06380c1d3587fa9866c1e" kindref="member">I2C_MASTER_HANDLE_T</ref> *</type>
          <declname>handle</declname>
        </param>
        <briefdescription>
<para>Inits the I2C master handle There is an internal state of the context which is maintained which gets updated with every init call Internal context goes to NULL is error in init This context points to the new handle that is passed as the parameter. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>handle</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int SUCCESS=0 and ERROR =-1 </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="25" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="25" bodyend="66"/>
        <referencedby refid="light__sensor__task_8c_1abb5f74ca3376b1b610b7dac47ecae8d8" compoundref="light__sensor__task_8c" startline="95" endline="108">light_task_queue_init</referencedby>
        <referencedby refid="temperature__sensor__task_8c_1ad16d2f35c6d97e33cfe57e3ab2497064" compoundref="temperature__sensor__task_8c" startline="153" endline="163">temperature_task_I2Cinit</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1a15136dcc397f046d0a000a781d060139" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_Destroy</definition>
        <argsstring>(I2C_MASTER_HANDLE_T *handle)</argsstring>
        <name>I2Cmaster_Destroy</name>
        <param>
          <type><ref refid="my__i2c_8h_1ab57e25e9caf06380c1d3587fa9866c1e" kindref="member">I2C_MASTER_HANDLE_T</ref> *</type>
          <declname>handle</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>handle</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="68" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="68" bodyend="105"/>
        <referencedby refid="light__sensor__task_8c_1abb5f74ca3376b1b610b7dac47ecae8d8" compoundref="light__sensor__task_8c" startline="95" endline="108">light_task_queue_init</referencedby>
        <referencedby refid="temperature__sensor__task_8c_1a7b3917c753224bc64f378ca8e61cc941" compoundref="temperature__sensor__task_8c" startline="171" endline="182">temperature_task_I2Cdeinit</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1a896771a0a066b06b606d35bb81809fa0" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type><ref refid="my__i2c_8h_1ab57e25e9caf06380c1d3587fa9866c1e" kindref="member">I2C_MASTER_HANDLE_T</ref> *</type>
        <definition>I2C_MASTER_HANDLE_T* getMasterI2C_handle</definition>
        <argsstring>()</argsstring>
        <name>getMasterI2C_handle</name>
        <briefdescription>
<para>Get the MasterI2C handle object. </para>        </briefdescription>
        <detaileddescription>
<para><simplesect kind="return"><para>I2C_MASTER_HANDLE_T * </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="107" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="107" bodyend="110"/>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1a202be1d68320e3ba93c759821ba2f695" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_write_byte</definition>
        <argsstring>(uint8_t slave_addr, uint8_t reg_addr, uint8_t data)</argsstring>
        <name>I2Cmaster_write_byte</name>
        <param>
          <type>uint8_t</type>
          <declname>slave_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>slave_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="112" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="112" bodyend="130"/>
        <referencedby refid="apds9301__sensor_8h_1a5e527c870fed599e87d712a151e47172" compoundref="apds9301__sensor_8c" startline="60" endline="72">APDS9301_mode_highGain</referencedby>
        <referencedby refid="apds9301__sensor_8h_1aa8c71ee19fe0ef5ff8880f87daa2757a" compoundref="apds9301__sensor_8c" startline="73" endline="86">APDS9301_mode_lowGain_default</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a69d91df573c8c448a30715ae605262d7" compoundref="apds9301__sensor_8c" startline="88" endline="103">APDS9301_mode_interrupt</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ad22326035668d08e6d7cade8cde126e4" compoundref="apds9301__sensor_8c" startline="110" endline="123">APDS9301_mode_manualcontrol</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ac14a5a102513243824d12e6028abbeb8" compoundref="apds9301__sensor_8c" startline="125" endline="138">APDS9301_mode_integrationTime</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a5f0928561f20743cccb1a4f6336ddff4" compoundref="apds9301__sensor_8c" startline="141" endline="145">APDS9301_poweron</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a2ddb9f93c9fac9cb3fbe152bda7bc43b" compoundref="apds9301__sensor_8c" startline="146" endline="150">APDS9301_powerdown</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1af92cf5a5d893ef9bbf6b4ee6de0b0ef8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_write</definition>
        <argsstring>(uint8_t slave_addr, uint8_t reg_addr)</argsstring>
        <name>I2Cmaster_write</name>
        <param>
          <type>uint8_t</type>
          <declname>slave_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg_addr</declname>
        </param>
        <briefdescription>
<para>Writes a byte/pointer register to the slave. </para>        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>slave_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="132" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="132" bodyend="150"/>
        <referencedby refid="apds9301__sensor_8h_1aedfa265fc5f3043cea294a0a5d30da04" compoundref="apds9301__sensor_8c" startline="104" endline="108">APDS9301_clearPendingInterrupt</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1a19c6244da5ea2d4e65a25001582498c8" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_write_word</definition>
        <argsstring>(uint8_t slave_addr, uint8_t reg_addr, uint16_t data, uint8_t lsb_first)</argsstring>
        <name>I2Cmaster_write_word</name>
        <param>
          <type>uint8_t</type>
          <declname>slave_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg_addr</declname>
        </param>
        <param>
          <type>uint16_t</type>
          <declname>data</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>lsb_first</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>slave_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>lsb_first</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="153" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="153" bodyend="177"/>
        <referencedby refid="apds9301__sensor_8h_1a27508ac9add1cd27cb2c143631f3a55f" compoundref="apds9301__sensor_8c" startline="30" endline="34">APDS9301_write_ThLow</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ad75b8b8d703f549994213adeaea90c64" compoundref="apds9301__sensor_8c" startline="36" endline="40">APDS9301_write_ThHigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a4725fb3e4cf18de4220d6067a7dc5dd4" compoundref="tmp102__sensor_8c" startline="23" endline="35">TMP102_setmode_allDefault</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a7d4d57387ef6a5db5bfc8d14a94d9ee4" compoundref="tmp102__sensor_8c" startline="43" endline="58">TMP102_setMode_SD_PowerSaving</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a4309a30e9d006753c2cdd6f6c9af2650" compoundref="tmp102__sensor_8c" startline="59" endline="73">TMP102_setMode_SD_Continuous_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a81c75dba63b6c0727ab602ea631b3a22" compoundref="tmp102__sensor_8c" startline="75" endline="90">TMP102_setMode_TM_ComparatorMode_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a4386703b35277dc71be5cd9b57d0f3ce" compoundref="tmp102__sensor_8c" startline="91" endline="106">TMP102_setMode_TM_InterruptMode</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a899854f020db34f588f89adffcdc8433" compoundref="tmp102__sensor_8c" startline="107" endline="122">TMP102_setMode_ALERT_ActiveLow_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1aa7438de8c6766d48b649e132cabf88e9" compoundref="tmp102__sensor_8c" startline="123" endline="138">TMP102_setMode_ALERT_ActiveHigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1aa96f470639b851a96f524ae6524dd266" compoundref="tmp102__sensor_8c" startline="139" endline="155">TMP102_setMode_EM_NormalMode_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a2df18183afad1339903fe59997aaf9a2" compoundref="tmp102__sensor_8c" startline="156" endline="171">TMP102_setMode_EM_ExtendedMode</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a3f6277d742af4a10dcec568e84ad1d5d" compoundref="tmp102__sensor_8c" startline="172" endline="187">TMP102_setMode_CR_250mHZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a110d2f8672865d85670f2681e5dc9aed" compoundref="tmp102__sensor_8c" startline="188" endline="204">TMP102_setMode_CR_1HZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a6d24a33a5e009441edb99bd1a727afec" compoundref="tmp102__sensor_8c" startline="205" endline="221">TMP102_setMode_CR_4HZ_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a031c7291b177515876ebb29d24dc97b4" compoundref="tmp102__sensor_8c" startline="223" endline="238">TMP102_setMode_CR_8HZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a6296f70167b1f662c7f9b56b15fe037c" compoundref="tmp102__sensor_8c" startline="253" endline="288">TMP102_write_Tlow</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a32a4b8bbc5611a7ca967cdaaeb732ae1" compoundref="tmp102__sensor_8c" startline="290" endline="327">TMP102_write_Thigh</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1a8024ad1f3558034ee998758f45d456d9" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_read_byte</definition>
        <argsstring>(uint8_t slave_addr, uint8_t reg_addr, uint8_t *data)</argsstring>
        <name>I2Cmaster_read_byte</name>
        <param>
          <type>uint8_t</type>
          <declname>slave_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg_addr</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>data</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>slave_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="180" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="180" bodyend="200"/>
        <referencedby refid="apds9301__sensor_8h_1a2aa3244d3848324ba9f4afc7b1990ce1" compoundref="apds9301__sensor_8c" startline="54" endline="58">APDS9301_readControlReg</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a5e527c870fed599e87d712a151e47172" compoundref="apds9301__sensor_8c" startline="60" endline="72">APDS9301_mode_highGain</referencedby>
        <referencedby refid="apds9301__sensor_8h_1aa8c71ee19fe0ef5ff8880f87daa2757a" compoundref="apds9301__sensor_8c" startline="73" endline="86">APDS9301_mode_lowGain_default</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a69d91df573c8c448a30715ae605262d7" compoundref="apds9301__sensor_8c" startline="88" endline="103">APDS9301_mode_interrupt</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ad22326035668d08e6d7cade8cde126e4" compoundref="apds9301__sensor_8c" startline="110" endline="123">APDS9301_mode_manualcontrol</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ac14a5a102513243824d12e6028abbeb8" compoundref="apds9301__sensor_8c" startline="125" endline="138">APDS9301_mode_integrationTime</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a82dac2bc9fc0e11fc4589f3492bec13e" compoundref="apds9301__sensor_8c" startline="151" endline="155">APDS9301_readID</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ae41babc910792ba1bbb19e837fd45d4c" compoundref="apds9301__sensor_8c" startline="157" endline="171">APDS9301_readCh0</referencedby>
        <referencedby refid="apds9301__sensor_8h_1a34c034b815ceb2e30b0161d7461f0a8e" compoundref="apds9301__sensor_8c" startline="173" endline="188">APDS9301_readCh1</referencedby>
        <referencedby refid="apds9301__sensor_8h_1acae5d5b1cfb4008743589e5482d7578b" compoundref="apds9301__sensor_8c" startline="234" endline="249">APDS9301_memDump</referencedby>
      </memberdef>
      <memberdef kind="function" id="my__i2c_8c_1ab25650a9cf74e65561b1fced3555f36c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>int</type>
        <definition>int I2Cmaster_read_bytes</definition>
        <argsstring>(uint8_t slave_addr, uint8_t reg_addr, uint8_t *data, size_t len)</argsstring>
        <name>I2Cmaster_read_bytes</name>
        <param>
          <type>uint8_t</type>
          <declname>slave_addr</declname>
        </param>
        <param>
          <type>uint8_t</type>
          <declname>reg_addr</declname>
        </param>
        <param>
          <type>uint8_t *</type>
          <declname>data</declname>
        </param>
        <param>
          <type>size_t</type>
          <declname>len</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para><parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>slave_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>reg_addr</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>data</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>len</parametername>
</parameternamelist>
<parameterdescription>
<para></para></parameterdescription>
</parameteritem>
</parameterlist>
<simplesect kind="return"><para>int </para></simplesect>
</para>        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" line="202" column="1" bodyfile="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c" bodystart="202" bodyend="221"/>
        <referencedby refid="apds9301__sensor_8h_1ad0dcd5037cad9e4ed654da7d9d548010" compoundref="apds9301__sensor_8c" startline="42" endline="46">APDS9301_read_ThLow</referencedby>
        <referencedby refid="apds9301__sensor_8h_1ab7d8d5ac5b780bcdb0a399f286b7f224" compoundref="apds9301__sensor_8c" startline="48" endline="52">APDS9301_read_ThHigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a7d4d57387ef6a5db5bfc8d14a94d9ee4" compoundref="tmp102__sensor_8c" startline="43" endline="58">TMP102_setMode_SD_PowerSaving</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a4309a30e9d006753c2cdd6f6c9af2650" compoundref="tmp102__sensor_8c" startline="59" endline="73">TMP102_setMode_SD_Continuous_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a81c75dba63b6c0727ab602ea631b3a22" compoundref="tmp102__sensor_8c" startline="75" endline="90">TMP102_setMode_TM_ComparatorMode_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a4386703b35277dc71be5cd9b57d0f3ce" compoundref="tmp102__sensor_8c" startline="91" endline="106">TMP102_setMode_TM_InterruptMode</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a899854f020db34f588f89adffcdc8433" compoundref="tmp102__sensor_8c" startline="107" endline="122">TMP102_setMode_ALERT_ActiveLow_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1aa7438de8c6766d48b649e132cabf88e9" compoundref="tmp102__sensor_8c" startline="123" endline="138">TMP102_setMode_ALERT_ActiveHigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1aa96f470639b851a96f524ae6524dd266" compoundref="tmp102__sensor_8c" startline="139" endline="155">TMP102_setMode_EM_NormalMode_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a2df18183afad1339903fe59997aaf9a2" compoundref="tmp102__sensor_8c" startline="156" endline="171">TMP102_setMode_EM_ExtendedMode</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a3f6277d742af4a10dcec568e84ad1d5d" compoundref="tmp102__sensor_8c" startline="172" endline="187">TMP102_setMode_CR_250mHZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a110d2f8672865d85670f2681e5dc9aed" compoundref="tmp102__sensor_8c" startline="188" endline="204">TMP102_setMode_CR_1HZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a6d24a33a5e009441edb99bd1a727afec" compoundref="tmp102__sensor_8c" startline="205" endline="221">TMP102_setMode_CR_4HZ_default</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a031c7291b177515876ebb29d24dc97b4" compoundref="tmp102__sensor_8c" startline="223" endline="238">TMP102_setMode_CR_8HZ</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a98961eafa743b9a651a3cd2f3787f858" compoundref="tmp102__sensor_8c" startline="239" endline="251">TMP102_readMode_ALERT</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a6296f70167b1f662c7f9b56b15fe037c" compoundref="tmp102__sensor_8c" startline="253" endline="288">TMP102_write_Tlow</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a32a4b8bbc5611a7ca967cdaaeb732ae1" compoundref="tmp102__sensor_8c" startline="290" endline="327">TMP102_write_Thigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1aa8531a04dcf776f0d81d190b384bfab5" compoundref="tmp102__sensor_8c" startline="329" endline="349">TMP102_read_Tlow</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a63bbac70f6558fd10f034a45d1fa140c" compoundref="tmp102__sensor_8c" startline="351" endline="371">TMP102_read_Thigh</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a847d6333b56e33f815bb5e1101056e42" compoundref="tmp102__sensor_8c" startline="374" endline="403">TMP102_getTemp</referencedby>
        <referencedby refid="tmp102__sensor_8h_1a1ea9cb5a6a2e798b33564f9142d7afa1" compoundref="tmp102__sensor_8c" startline="405" endline="423">TMP102_memDump</referencedby>
      </memberdef>
      </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
<para><simplesect kind="author"><para>Gunj Manseta </para></simplesect>
<simplesect kind="date"><para>2018-03-13 </para></simplesect>
</para>    </detaileddescription>
    <programlisting>
<codeline lineno="1"></codeline>
<codeline lineno="9"><highlight class="preprocessor">#include<sp/>&lt;errno.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="10"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="11"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;<ref refid="my__i2c_8h" kindref="compound">my_i2c.h</ref>&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="12"><highlight class="normal"></highlight></codeline>
<codeline lineno="13"><highlight class="normal"></highlight></codeline>
<codeline lineno="14"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/><ref refid="structi2c__handle" kindref="compound">I2C_MASTER_HANDLE_T</ref><sp/>*internal_master_handle<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="15"><highlight class="normal"></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/>pthread_mutex_t<sp/>init_destroy_lock<sp/>=<sp/>PTHREAD_MUTEX_INITIALIZER;</highlight></codeline>
<codeline lineno="16"><highlight class="normal"></highlight></codeline>
<codeline lineno="17" refid="my__i2c_8h_1a24206855ca77b181de1cfbe8e9e5051a" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1a24206855ca77b181de1cfbe8e9e5051a" kindref="member">printErrorCode</ref>(</highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>errorCode)</highlight></codeline>
<codeline lineno="18"><highlight class="normal">{</highlight></codeline>
<codeline lineno="19"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//#define<sp/>VERBOSE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#ifdef<sp/>VERBOSE</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_print(errorCode);</highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor"><sp/><sp/><sp/><sp/>#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal">}</highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25" refid="my__i2c_8h_1acea2b6a0875bf63a179959a46b3cdf7d" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1acea2b6a0875bf63a179959a46b3cdf7d" kindref="member">I2Cmaster_Init</ref>(<ref refid="structi2c__handle" kindref="compound">I2C_MASTER_HANDLE_T</ref><sp/>*handle)</highlight></codeline>
<codeline lineno="26"><highlight class="normal">{</highlight></codeline>
<codeline lineno="27"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="28"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pthread_mutex_lock(&amp;init_destroy_lock))</highlight></codeline>
<codeline lineno="29"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="30"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>!=<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="31"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="32"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle<sp/>=<sp/>internal_master_handle;</highlight></codeline>
<codeline lineno="33"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/><sp/>0;</highlight></codeline>
<codeline lineno="34"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="35"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(handle)</highlight></codeline>
<codeline lineno="36"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="37"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>handle-&gt;i2c_context<sp/>=<sp/>mraa_i2c_init_raw(BB_I2C_BUS_2);</highlight></codeline>
<codeline lineno="38"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>internal<sp/>i2c<sp/>context<sp/>failed<sp/>to<sp/>init<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>handle-&gt;i2c_context)</highlight></codeline>
<codeline lineno="40"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>internal_master_handle<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="44"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>spinlock<sp/>init<sp/>fails<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="45"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(<sp/>-1<sp/>==<sp/>pthread_spin_init(&amp;handle-&gt;handle_lock,<sp/>PTHREAD_PROCESS_PRIVATE))</highlight></codeline>
<codeline lineno="46"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="47"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>internal_master_handle<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="48"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>mraa_i2c_stop(handle-&gt;i2c_context);</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="50"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Everyting<sp/>goes<sp/>as<sp/>expected<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>internal_master_handle<sp/>=<sp/>handle;</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>handle<sp/>is<sp/>null<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="60"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="62"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pthread_mutex_unlock(&amp;init_destroy_lock))</highlight></codeline>
<codeline lineno="63"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="64"><highlight class="normal"></highlight></codeline>
<codeline lineno="65"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="66"><highlight class="normal">}</highlight></codeline>
<codeline lineno="67"><highlight class="normal"></highlight></codeline>
<codeline lineno="68" refid="my__i2c_8h_1a15136dcc397f046d0a000a781d060139" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1a15136dcc397f046d0a000a781d060139" kindref="member">I2Cmaster_Destroy</ref>(<ref refid="structi2c__handle" kindref="compound">I2C_MASTER_HANDLE_T</ref><sp/>*handle)</highlight></codeline>
<codeline lineno="69"><highlight class="normal">{</highlight></codeline>
<codeline lineno="70"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="71"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pthread_mutex_lock(&amp;init_destroy_lock))</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="73"><highlight class="normal"></highlight></codeline>
<codeline lineno="74"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>If<sp/>the<sp/>input<sp/>handle<sp/>is<sp/>not<sp/>null<sp/>and<sp/>the<sp/>input<sp/>initialized<sp/>handle<sp/>should<sp/>match<sp/>the<sp/>internal<sp/>handle<sp/>*/</highlight><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>!=<sp/>handle<sp/>&amp;&amp;<sp/>internal_master_handle<sp/>==<sp/>handle<sp/>&amp;&amp;<sp/>NULL<sp/>!=<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="76"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_stop(handle-&gt;i2c_context);</highlight></codeline>
<codeline lineno="78"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ret<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="80"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">static</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/>timeout<sp/>=<sp/>5000;</highlight></codeline>
<codeline lineno="81"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">do</highlight><highlight class="normal">{</highlight></codeline>
<codeline lineno="82"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>pthread_spin_destroy(&amp;handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="83"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>timeout--;</highlight></codeline>
<codeline lineno="84"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight><highlight class="keywordflow">while</highlight><highlight class="normal">(EBUSY<sp/>==<sp/>ret<sp/>&amp;&amp;<sp/>timeout<sp/>&gt;<sp/>0);</highlight></codeline>
<codeline lineno="85"><highlight class="normal"></highlight></codeline>
<codeline lineno="86"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(ret<sp/>==<sp/>0)</highlight></codeline>
<codeline lineno="87"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="88"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>internal_master_handle<sp/>=<sp/>NULL;</highlight></codeline>
<codeline lineno="89"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="90"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="94"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>0;</highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">else</highlight><highlight class="normal"><sp/></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>-1;</highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(pthread_mutex_unlock(&amp;init_destroy_lock))</highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="103"><highlight class="normal"></highlight></codeline>
<codeline lineno="104"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="105"><highlight class="normal">}<sp/></highlight></codeline>
<codeline lineno="106"><highlight class="normal"></highlight></codeline>
<codeline lineno="107" refid="my__i2c_8h_1a896771a0a066b06b606d35bb81809fa0" refkind="member"><highlight class="normal"><ref refid="structi2c__handle" kindref="compound">I2C_MASTER_HANDLE_T</ref>*<sp/><ref refid="my__i2c_8c_1a896771a0a066b06b606d35bb81809fa0" kindref="member">getMasterI2C_handle</ref>()</highlight></codeline>
<codeline lineno="108"><highlight class="normal">{</highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>internal_master_handle;</highlight></codeline>
<codeline lineno="110"><highlight class="normal">}</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112" refid="my__i2c_8h_1a202be1d68320e3ba93c759821ba2f695" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1a202be1d68320e3ba93c759821ba2f695" kindref="member">I2Cmaster_write_byte</ref>(uint8_t<sp/>slave_addr,<sp/>uint8_t<sp/>reg_addr,<sp/>uint8_t<sp/>data)</highlight></codeline>
<codeline lineno="113"><highlight class="normal">{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="116"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="118"><highlight class="normal"></highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_lock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"></highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_t<sp/>ret<sp/>=<sp/><sp/>mraa_i2c_address(internal_master_handle-&gt;i2c_context,<sp/>slave_addr);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>ret)</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_write_byte_data(internal_master_handle-&gt;i2c_context,<sp/>data,<sp/>reg_addr);</highlight></codeline>
<codeline lineno="125"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="126"><highlight class="normal"></highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_unlock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="128"><highlight class="normal"></highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="130"><highlight class="normal">}</highlight></codeline>
<codeline lineno="131"><highlight class="normal"></highlight></codeline>
<codeline lineno="132" refid="my__i2c_8h_1af92cf5a5d893ef9bbf6b4ee6de0b0ef8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1af92cf5a5d893ef9bbf6b4ee6de0b0ef8" kindref="member">I2Cmaster_write</ref>(uint8_t<sp/>slave_addr,<sp/>uint8_t<sp/>reg_addr)</highlight></codeline>
<codeline lineno="133"><highlight class="normal">{</highlight></codeline>
<codeline lineno="134"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="135"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="136"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="137"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="138"><highlight class="normal"></highlight></codeline>
<codeline lineno="139"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_lock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="140"><highlight class="normal"></highlight></codeline>
<codeline lineno="141"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_t<sp/>ret<sp/>=<sp/><sp/>mraa_i2c_address(internal_master_handle-&gt;i2c_context,<sp/>slave_addr);</highlight></codeline>
<codeline lineno="142"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>ret)</highlight></codeline>
<codeline lineno="143"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="144"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_write_byte(internal_master_handle-&gt;i2c_context,<sp/>reg_addr);</highlight></codeline>
<codeline lineno="145"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight></codeline>
<codeline lineno="147"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_unlock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="148"><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="150"><highlight class="normal">}</highlight></codeline>
<codeline lineno="151"><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"></highlight></codeline>
<codeline lineno="153" refid="my__i2c_8h_1a19c6244da5ea2d4e65a25001582498c8" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1a19c6244da5ea2d4e65a25001582498c8" kindref="member">I2Cmaster_write_word</ref>(uint8_t<sp/>slave_addr,<sp/>uint8_t<sp/>reg_addr,<sp/>uint16_t<sp/>data,<sp/>uint8_t<sp/>lsb_first)</highlight></codeline>
<codeline lineno="154"><highlight class="normal">{</highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(lsb_first)</highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>data<sp/>=<sp/>(<sp/>((data<sp/>&amp;<sp/>0xF0)&gt;&gt;4)|<sp/>((data<sp/>&amp;0x0F)&lt;&lt;4)<sp/>);<sp/></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="164"><highlight class="normal"></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_lock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="166"><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_t<sp/>ret<sp/>=<sp/><sp/>mraa_i2c_address(internal_master_handle-&gt;i2c_context,<sp/>slave_addr);</highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>ret)</highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_write_word_data(internal_master_handle-&gt;i2c_context,<sp/>data,<sp/>reg_addr);</highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="172"><highlight class="normal"></highlight></codeline>
<codeline lineno="173"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_unlock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="174"><highlight class="normal"></highlight></codeline>
<codeline lineno="175"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="176"><highlight class="normal"></highlight></codeline>
<codeline lineno="177"><highlight class="normal">}</highlight></codeline>
<codeline lineno="178"><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"></highlight></codeline>
<codeline lineno="180" refid="my__i2c_8h_1a8024ad1f3558034ee998758f45d456d9" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1a8024ad1f3558034ee998758f45d456d9" kindref="member">I2Cmaster_read_byte</ref>(uint8_t<sp/>slave_addr,<sp/>uint8_t<sp/>reg_addr,<sp/>uint8_t<sp/>*data)</highlight></codeline>
<codeline lineno="181"><highlight class="normal">{</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="186"><highlight class="normal"></highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_lock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="188"><highlight class="normal"></highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_t<sp/>ret<sp/>=<sp/><sp/>mraa_i2c_address(internal_master_handle-&gt;i2c_context,<sp/>slave_addr);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>ret)</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_read_byte_data(internal_master_handle-&gt;i2c_context,<sp/>reg_addr);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ret<sp/>!=<sp/>-1)<sp/>?<sp/>*data<sp/><sp/>=<sp/>ret,<sp/>ret<sp/>=<sp/>0<sp/>:<sp/>0;<sp/></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="195"><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_unlock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="197"><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="199"><highlight class="normal"></highlight></codeline>
<codeline lineno="200"><highlight class="normal">}</highlight></codeline>
<codeline lineno="201"><highlight class="normal"></highlight></codeline>
<codeline lineno="202" refid="my__i2c_8h_1ab25650a9cf74e65561b1fced3555f36c" refkind="member"><highlight class="normal"></highlight><highlight class="keywordtype">int</highlight><highlight class="normal"><sp/><ref refid="my__i2c_8c_1ab25650a9cf74e65561b1fced3555f36c" kindref="member">I2Cmaster_read_bytes</ref>(uint8_t<sp/>slave_addr,<sp/>uint8_t<sp/>reg_addr,<sp/>uint8_t<sp/>*data,<sp/></highlight><highlight class="keywordtype">size_t</highlight><highlight class="normal"><sp/>len)</highlight></codeline>
<codeline lineno="203"><highlight class="normal">{</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(NULL<sp/>==<sp/>internal_master_handle)</highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>-1;</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="208"><highlight class="normal"></highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_lock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"></highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>mraa_result_t<sp/>ret<sp/>=<sp/><sp/>mraa_i2c_address(internal_master_handle-&gt;i2c_context,<sp/>slave_addr);</highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(0<sp/>==<sp/>ret)</highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>{<sp/><sp/><sp/></highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>ret<sp/>=<sp/>mraa_i2c_read_bytes_data(internal_master_handle-&gt;i2c_context,<sp/>reg_addr,<sp/>data<sp/>,<sp/>len);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>(ret<sp/>==<sp/>len)<sp/>?<sp/>ret<sp/>=<sp/>0<sp/>:<sp/>0;<sp/></highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="217"><highlight class="normal"></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>pthread_spin_unlock(&amp;internal_master_handle-&gt;handle_lock);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"></highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal"><sp/>ret;</highlight></codeline>
<codeline lineno="221"><highlight class="normal">}</highlight></codeline>
<codeline lineno="222"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/home/gunj/repos/ECEN-5013/Project1/src/my_i2c.c"/>
  </compounddef>
</doxygen>
